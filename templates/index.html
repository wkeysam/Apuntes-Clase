<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Visor de PDF Accesible</title>
  <link rel="stylesheet" href="styles/style.css" />
</head>
<body>
  <header role="banner">
    <h1>Visor de Documentos PDF</h1>
    <p>Visualiza, navega y analiza archivos PDF directamente desde tu navegador con un visor accesible y adaptado a todos los dispositivos.</p>
    <nav>
      <ul>
        <li><a href="#visor">Ir al visor</a></li>
        <li><a href="#historial">Historial</a></li>
        <li><a href="#ayuda">Ayuda</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <article id="visor">
      <h2>Controles de navegación</h2>
      <p><strong>PDF.js</strong> es una librería de código abierto que permite visualizar archivos PDF directamente en el navegador. Más información en <a href="https://mozilla.github.io/pdf.js/" target="_blank" rel="noopener">su sitio oficial</a>.</p>

      <form>
        <fieldset>
          <legend>Opciones</legend>
          <button type="button" onclick="prevPage()">Anterior</button>
          <button type="button" onclick="zoomOut()">-</button>
          <button type="button" onclick="zoomIn()">+</button>
          <button type="button" onclick="resetZoom()">=</button>
          <button type="button" onclick="nextPage()">Siguiente</button>
        </fieldset>
      </form>
      <p id="page-info">Página <span id="page-num"></span> de <span id="page-count"></span></p>

      <figure>
        <figcaption><em>Vista previa del documento:</em></figcaption>
        <canvas id="pdf-canvas" role="img" aria-label="Vista del PDF"></canvas>
      </figure>

      <blockquote cite="https://mozilla.github.io/pdf.js/">
        “PDF.js permite una experiencia de lectura de documentos PDF sin plugins, mejorando la compatibilidad y la seguridad.”
      </blockquote>
    </article>

    <section id="historial">
        <tbody>
          <tr>
            <td>1</td>
            <td>Documento abierto</td>
            <td>13/05/2025</td>
          </tr>
          <tr>
            <td>2</td>
            <td>Zoom +</td>
            <td>13/05/2025</td>
          </tr>
          <tr>
            <td>3</td>
            <td>Página 2 visitada</td>
            <td>13/05/2025</td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="3">Fin del historial</td>
          </tr>
        </tfoot>
      </table>
    </section>

    <aside id="ayuda">
      <details>
        <summary>¿Cómo usar el visor?</summary>
        <p>Usa los botones para moverte entre páginas, hacer zoom y restablecer la vista. Puedes descargar el PDF si el visor no funciona correctamente.</p>
      </details>
    </aside>
  </main>

  <footer role="contentinfo">
    <p>Contacto: <a href="mailto:ejemplosoporte@email.com">ejemplosoporte@email.com</a></p>
    <small>&copy; 2025 VisorPDF. Todos los derechos reservados.</small>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
  <script>
    const url = 'path/to/your/pdf/file.pdf';
    const pdfjsLib = window['pdfjs-dist/build/pdf'];
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js';

    let pdfDoc = null, pageNum = 1, scale = 1.0;
    const canvas = document.getElementById('pdf-canvas');
    const canvasContext = canvas.getContext('2d');

    pdfjsLib.getDocument(url).promise.then(pdf => {
      pdfDoc = pdf;
      document.getElementById('page-count').textContent = pdf.numPages;
      renderPage(pageNum);
    });

    function renderPage(num) {
      pdfDoc.getPage(num).then(page => {
        const viewport = page.getViewport({ scale });
        canvas.width = viewport.width;
        canvas.height = viewport.height;
        page.render({ canvasContext, viewport });
        document.getElementById('page-num').textContent = num;
      });
    }

    function nextPage() { if (pdfDoc && pageNum < pdfDoc.numPages) renderPage(++pageNum); }
    function prevPage() { if (pdfDoc && pageNum > 1) renderPage(--pageNum); }
    function zoomIn() { scale += 0.1; renderPage(pageNum); }
    function zoomOut() { if (scale > 0.1) { scale -= 0.1; renderPage(pageNum); } }
    function resetZoom() { scale = 1.0; renderPage(pageNum); }
  </script>
</html>